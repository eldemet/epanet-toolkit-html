<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
   <title>ENsetcontrol</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Functions">
</head>



<body bgcolor="#FFFFFF">




<span style="font-family:Arial,Helvetica; font-size:12pt; color:#000000"><span style="font-family:Arial,Helvetica; font-size:12pt; color:#0000FF"><b>ENsetcontrol</b></span><span style="font-family:Arial,Helvetica; font-size:12pt; color:#000000"><b>
<br>
</b></span><span style="font-family:Verdana; font-size:10pt; color:#000000"><b>
<br>
Declaration:</b>
<br>

<br>
</span></span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"><table border="0" cellpadding="0" cellspacing="0"><tr><td align="left" valign="top" width="119">
<span style="font-family:Verdana; font-size:10pt; color:#000000">int  ENsetcontrol(
<br>
</span></td><td align="left" valign="top" width="203">
<span style="font-family:Verdana; font-size:10pt; color:#000000">int cindex, int ctype,
<br>
int lindex, float setting,
<br>
int nindex, float level )<span style="font-family:Arial,Helvetica; font-size:12pt; color:#000000">
<br>
</span></span></td></tr></table>
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000"><b>Description:</b>
<br>

<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">Sets the parameters of a simple control statement.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000"><b>Arguments:</b>
<br>

<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"><table border="0" cellpadding="1" cellspacing="0"><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>cindex:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">control statement index
<br>
</span></td></tr><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>ctype:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">control type code
<br>
</span></td></tr><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>lindex:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">index of link being controlled
<br>
</span></td></tr><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>setting:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">value of the control setting
<br>
</span></td></tr><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>nindex:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">index of controlling node
<br>
</span></td></tr><tr><td align="left" valign="top" width="72">
<span style="font-family:Verdana; font-size:10pt; color:#000000"><i>level:</i>
<br>
</span></td><td align="left" valign="top" width="311">
<span style="font-family:Verdana; font-size:10pt; color:#000000">value of controlling water level or pressure for level controls or of time of control action (in seconds) for time-based controls
<br>
</span></td></tr></table>
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000"><b>Returns:</b>
<br>

<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">Returns an error code.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000">
<br>
<b>Notes:
<br>
</b>
<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">Controls are indexed starting from 1 in the order in which they were entered into the <a href=_controls_.htm>[CONTROLS]</a> section of the EPANET input file.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000">
<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">Control type codes consist of the following:
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"><table border="0" cellpadding="1" cellspacing="0"><tr><td align="left" valign="top" width="126">
<span style="font-family:Verdana; font-size:10pt; color:#000000">EN_LOWLEVEL
<br>
</span></td><td align="left" valign="top" width="31">
<span style="font-family:Verdana; font-size:10pt; color:#000000">0
<br>
</span></td><td align="left" valign="top" width="270">
<span style="font-family:Verdana; font-size:10pt; color:#000000">Control applied when tank level or node pressure drops below specified level
<br>
</span></td></tr><tr><td align="left" valign="top" width="126">
<span style="font-family:Verdana; font-size:10pt; color:#000000">EN_HILEVEL
<br>
</span></td><td align="left" valign="top" width="31">
<span style="font-family:Verdana; font-size:10pt; color:#000000">1
<br>
</span></td><td align="left" valign="top" width="270">
<span style="font-family:Verdana; font-size:10pt; color:#000000">Control applied when tank level or node pressure rises above specified level
<br>
</span></td></tr><tr><td align="left" valign="top" width="126">
<span style="font-family:Verdana; font-size:10pt; color:#000000">EN_TIMER
<br>
</span></td><td align="left" valign="top" width="31">
<span style="font-family:Verdana; font-size:10pt; color:#000000">2
<br>
</span></td><td align="left" valign="top" width="270">
<span style="font-family:Verdana; font-size:10pt; color:#000000">Control applied at specific time into simulation
<br>
</span></td></tr><tr><td align="left" valign="top" width="126">
<span style="font-family:Verdana; font-size:10pt; color:#000000">EN_TIMEOFDAY
<br>
</span></td><td align="left" valign="top" width="31">
<span style="font-family:Verdana; font-size:10pt; color:#000000">3
<br>
</span></td><td align="left" valign="top" width="270">
<span style="font-family:Verdana; font-size:10pt; color:#000000">Control applied at specific time of day
<br>
</span></td></tr></table>
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">For pipes, a setting of 0 means the pipe is closed and 1 means it is open. For a pump, the setting contains the pump's speed, with 0 meaning the pump is closed and 1 meaning it is open at its normal speed. For a valve, the setting refers to the valve's pressure, flow, or loss coefficient, depending on valve type.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">For Timer or Time-of-Day controls set the <i>nindex</i> parameter to 0.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">For level controls, if the controlling node <i>nindex</i> is a tank then the level parameter should be a water level above the tank bottom (not an elevation). Otherwise level should be a junction pressure.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">To remove a control on a particular link, set the <i>lindex</i> parameter to 0. Values for the other parameters in the function will be ignored.
&nbsp;<br>
</span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Verdana; font-size:10pt; color:#000000">
<br>
<b>Example</b>:
<br>

<br>
</span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000">This example uses ENgetcontrol and ENsetcontrol to change the low level setting on the node that controls a link with index <span style="font-family:Courier New; font-size:10pt; color:#000000"><i>thelink</i></span><span style="font-family:Verdana; font-size:10pt; color:#000000"> to a new value </span><span style="font-family:Courier New; font-size:10pt; color:#000000"><i>newlevel</i></span><span style="font-family:Verdana; font-size:10pt; color:#000000">.
&nbsp;<br>
</span></span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"><span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000"><table border="0" cellpadding="1" cellspacing="0"><tr><td align="left" valign="top" width="432">
<span style="font-family:Courier New; font-size:10pt; color:#000000">ENgetcount(EN_CONTROLS,&nbsp;&amp;numctrls);
<br>
for&nbsp;(i=1;&nbsp;i&lt;=numctrls;&nbsp;i++)&nbsp;{
<br>
&nbsp;&nbsp;ENgetcontrol(i,&nbsp;&amp;ctype,&nbsp;&amp;lindex,
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;setting,&nbsp;&amp;nindex,&nbsp;&amp;level);
<br>
&nbsp;&nbsp;if&nbsp;(ctype&nbsp;==&nbsp;EN_LOWLEVEL&nbsp;&amp;&amp;
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lindex&nbsp;==&nbsp;thelink)&nbsp;{
<br>
&nbsp;&nbsp;&nbsp;&nbsp;ENsetcontrol(i,&nbsp;ctype,&nbsp;lindex,
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setting,&nbsp;nindex,&nbsp;newlevel);
<br>
&nbsp;&nbsp;&nbsp;&nbsp;break;
<br>
&nbsp;&nbsp;}
<br>
}<span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000">
<br>
</span></span></td></tr></table>
&nbsp;<br>
</span></span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000"></span></td></tr></table><span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000">
<br>
<span style="font-family:Verdana; font-size:10pt; color:#000000"><b>See Also: 
<br>
</b></span><span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000"> 
<br>
</span></span><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Arial,Helvetica; font-size:10pt; color:#000000"><span style="font-family:Verdana; font-size:10pt; color:#000000"><a href=engetcontrol.htm>ENgetcontrol</a>
&nbsp;<br>
</span></span></td></tr></table><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr valign="top"><td width="25"></td><td><span style="font-family:Verdana; font-size:10pt; color:#000000"></span></td></tr></table>

</body>
</html>
